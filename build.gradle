//pack into a folder layout that works out of the box

task buildreportZip(type: Zip) {
    classifier = 'buildreport'

    from('server/conf') {
        into 'server/conf'
    }from('server/web') {
        into 'server/bin/web'
    }
	from('client/build/WorkClient.swf') {
        into 'server/bin/web'
    }from('server/build/lib/') {
        into 'server/bin/lib'
    }
	from('server/bin/start.bat') {
        into 'server/bin'
    }
	from('shared/resources/levels') {
        into 'shared/resources/levels'
    }
	from('server/build/classes/main') {
        into 'server/bin'
	}	
}

buildreportZip {
	dependsOn 'server:compileJava'
}

// buildreportZip depends on 'server:compileJava' 
// which in turn depends on the client. We have them all!

task copyRequiredScores(type: Copy) {
    from 'shared/resources/levels'
    into 'client/generated'
}
