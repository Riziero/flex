//pack into a folder layout that works out of the box
task buildreportZip(type: Zip) {
    classifier = 'buildreport'

    from('server/conf') {
        into 'server/conf'
    }
	from('server/web') {
        into 'server/bin/web'
    }
	from('client/build/WorkClient.swf') {
        into 'server/bin/web'
    }
	from('server/build/lib/') {
        into 'server/bin/lib'
    }
	from('server/bin/start.bat') {
        into 'server/bin'
    }
	from('server/bin/start.sh') {
        into 'server/bin'
    }
	from('shared/resources/levels') {
        into 'shared/resources/levels'
    }
	from('server/build/classes/java/main') {
        into 'server/bin'
	}
	from('server/build/classes/main') {
        into 'server/bin'
	}
}

// buildreportZip depends on 'server:compileJava'
// which in turn depends on the client compilation(compileFlex task). We have them all!
buildreportZip {
	dependsOn 'server:compileJava'
}

// this task will deploy the json into client/generated
// else the client will not compile
task copyRequiredScores(type: Copy) {
    from 'shared/resources/levels'
    into 'client/generated'
}
